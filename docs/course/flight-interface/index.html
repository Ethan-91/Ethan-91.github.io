<!DOCTYPE html>
<html lang="en" dir=>

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Flight Interface(FI) Description# The FI interface is an upgraded version of SI, supports jsonrpc and console calls, and supports the following features:
 zro does not maintain any keys Provide offline signature scheme User manages UTXO Divided into offline interface (local) and online interface (flight)  Project Docking Solution#  Account Plan (offline)
 Generate random 32byte seeds offline (can be local_genSeed generated through the interface) Save offline by local_seed2Sk generating a private key sk.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="Flight Interface(FI) Description" />
<meta property="og:description" content="Flight Interface(FI) Description# The FI interface is an upgraded version of SI, supports jsonrpc and console calls, and supports the following features:
 zro does not maintain any keys Provide offline signature scheme User manages UTXO Divided into offline interface (local) and online interface (flight)  Project Docking Solution#  Account Plan (offline)
 Generate random 32byte seeds offline (can be local_genSeed generated through the interface) Save offline by local_seed2Sk generating a private key sk." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://Ethan-91.github.io/docs/course/flight-interface/" />

<title>Flight Interface(FI) Description | ZORRO</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="alternate" hreflang="zh" href="https://Ethan-91.github.io/zh/docs/course/flight-interface/" title="Flight接口说明">

<link rel="stylesheet" href="/book.min.b3215d9d1d18d9051e7fbe8f256ff80e30f41d29073b86348e230d297b771002.css" integrity="sha256-syFdnR0Y2QUef76PJW/4DjD0HSkHO4Y0jiMNKXt3EAI=">
<script defer src="/en.search.min.88a517a499b999098a8e8b3e0562c5d902d3c5b21c6a48ea82992489b1c4fdf9.js" integrity="sha256-iKUXpJm5mQmKjos&#43;BWLF2QLTxbIcakjqgpkkibHE/fk="></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body dir=>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/"><span>ZORRO</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  



  
  
  
  

  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
    <span>Getting started</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/docs/introduction/build-from-sourcecoude/" class="">Build from the source code</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/introduction/operate-in-console/" class="">Console operation</a>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
    <span>Tutorial</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/docs/course/service-interface/" class="">Service Interface(SI) Description</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/course/exchange-interface/" class="">Exchange Interface(EI) Description</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/course/flight-interface/" class="active">Flight Interface(FI) Description</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/course/principle-of-anonymous-token/" class="">Anonymous tokens issuance principle</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/course/how-to-staking-using-zro/" class="">How to start ZORRO Staking on zro</a>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
  </ul>
  















</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Flight Interface(FI) Description</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
    <input type="checkbox" class="hidden" id="toc-control" />
    <aside class="hidden clearfix">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#project-docking-solution">Project Docking Solution</a>
      <ul>
        <li><a href="#local-interface">Local Interface</a></li>
        <li><a href="#account-management">Account Management</a></li>
        <li><a href="#utxo-analysis">UTXO Analysis</a></li>
        <li><a href="#offline-signature">Offline Signature</a></li>
        <li><a href="#confirm-out_z">Confirm Out_Z</a></li>
        <li><a href="#confirm-out_c">Confirm Out_C</a></li>
        <li><a href="#currency-name-interface">Currency name interface</a></li>
      </ul>
    </li>
    <li><a href="#flight-interface">Flight interface</a>
      <ul>
        <li><a href="#scan-blocks">Scan blocks</a></li>
        <li><a href="#get-extra-information-about-the-block">Get extra information about the block</a></li>
        <li><a href="#get-details-of-a-utxo">Get details of a UTXO</a></li>
        <li><a href="#get-original-transaction-details">Get original transaction details</a></li>
        <li><a href="#get-a-transaction-receipt">Get a transaction receipt</a></li>
        <li><a href="#assembly-transaction-signature-parameters">Assembly transaction signature parameters</a></li>
        <li><a href="#broadcast-transaction">Broadcast transaction</a></li>
        <li><a href="#extract-the-corresponding-root-through-tk-and-trace">Extract the corresponding Root through TK and Trace</a></li>
      </ul>
    </li>
  </ul>
</nav>


    </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="flight-interfacefi-description">
  <strong>Flight Interface(FI) Description</strong>
  <a class="anchor" href="#flight-interfacefi-description">#</a>
</h1>
<hr>
<p>The FI interface is an upgraded version of SI, supports jsonrpc and console calls, and supports the following features:</p>
<ul>
<li>zro does not maintain any keys</li>
<li>Provide offline signature scheme</li>
<li>User manages UTXO</li>
<li>Divided into offline interface (local) and online interface (flight)</li>
</ul>
<h2 id="project-docking-solution">
  Project Docking Solution
  <a class="anchor" href="#project-docking-solution">#</a>
</h2>
<ul>
<li>
<p>Account Plan (offline)</p>
<ol>
<li>Generate random 32byte seeds offline (can be <code>local_genSeed</code> generated through the interface)</li>
<li>Save offline by <code>local_seed2Sk</code> generating a private key <code>sk</code>.</li>
<li>By <code>local_sk2Tk</code> generating a tracking keys <code>TK</code> provided to the online portion of the system.</li>
<li>By <code>local_tk2Pk</code> generating a public key <code>PK</code>, it is provided to some online systems.</li>
<li>Pass <code>local_pk2Pkr</code> and random numbers, bind a collection code for each user <code>PKr</code>.</li>
</ol>
</li>
<li>
<p>Deposit Detection Program (online)</p>
<ol>
<li>Continuously iterative calls to <code>flight_getBlocksInfo</code> obtain block information</li>
<li>Determine <code>block.Outs[i].State.OS.Out_O.Addr</code> or <code>block.Outs[i].State.OS.Out_Z.PKr</code> whether it belongs to the bound user.
<ul>
<li>If it belongs to the bound user, do the following things
<ol>
<li>Use <code>block.Outs[i]</code> and track the secret key <code>TK</code> as a parameter to call <code>local_decOut</code> out the UTXO data in plain text</li>
<li><code>UTXO</code> Obtain a list of obsolete codes from the extracted data <code>Nils</code></li>
<li>Save <code>UTXO</code> and <code>Nils</code></li>
<li>The <code>UTXO</code> asset recorded data</li>
</ol>
</li>
</ul>
</li>
<li>Determine whether the obsolete code <code>block.Nils</code> already exists in the previously saved <code>UTXO</code> table. If it exists, it indicates that it <code>UTXO</code> has been used.</li>
</ol>
</li>
<li>
<p>Send transactions (online and offline)</p>
<ol>
<li>Select <code>UTXO</code> the parameters that need to be transferred and the related transfer information structure to call <code>flight_genTxParam</code> and generate <code>txParam</code>.</li>
<li>The offline signature method is called with the <code>txParam</code> private key <code>sk</code> as the parameter <code>local_signTxWithSk</code>, generated to be broadcast <code>tx</code>, and recorded <code>txhash</code>.</li>
<li>Record the keys in the result of <code>local_signTxWithSk</code></li>
<li>Call <code>flight_commitTx</code> with <code>tx</code> as the parameter to broadcast to the whole network.</li>
<li>To continue <code>txhash</code> as a parameter to call <code>flight_getTxReceipt</code>, to get packed block number.</li>
<li>After confirming 32 blocks, the <code>flight_getTxReceipt</code> data can be obtained from the successful transaction.</li>
<li>In case of disputes, you can take out the keys and call <code>local_confirmOutZ</code> to solve the plaintext data.</li>
</ol>
</li>
</ul>
<h3 id="local-interface">
  Local Interface
  <a class="anchor" href="#local-interface">#</a>
</h3>
<p>The <code>local</code> interface is an offline <code>jsonrpc</code> interface. Although the zro program needs to be started, in addition to the rpc service, zro does not need to connect externally and synchronize data. Therefore, the following parameters can be used to start the <code>zro</code> service.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">./zro --offline --mineMode --datadir ~ / zroData --nodiscover --rpc --rpcport <span style="color:#ae81ff">8545</span> --rpcapi local, zorro --rpcaddr 127.0.0.1 --rpccorsdomain <span style="color:#e6db74">&#34; * &#34;</span> --exchangeValueStr
</code></pre></div><h3 id="account-management">
  Account Management
  <a class="anchor" href="#account-management">#</a>
</h3>
<ul>
<li>
<p><strong>Randomly generated seed</strong></p>
<p>seed needs to be saved offline</p>
<ul>
<li>request</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
  <span style="color:#e6db74">&#34;jsonrpc&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2.0&#34;</span>,
  <span style="color:#e6db74">&#34;method&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;local_genSeed&#34;</span>,
  <span style="color:#e6db74">&#34;params&#34;</span><span style="color:#f92672">:</span> []
}
</code></pre></div><ul>
<li>response</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{ 
  <span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span> , 
  <span style="color:#e6db74">&#34;result&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0xc0bdec98290c5a2895e357a6f96f4f7f98b6750d37e77971a055579e7246c403&#34;</span>    <span style="color:#75715e">// The randomly generated seed, 32byte hex code 
</span><span style="color:#75715e"></span>  <span style="color:#e6db74">&#34;error&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
}
</code></pre></div><ul>
<li>go language</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">seed</span><span style="color:#f92672">:=</span><span style="color:#a6e22e">c_type</span>.<span style="color:#a6e22e">RandUint256</span>()
</code></pre></div></li>
<li>
<p><strong>Generate sk from seed</strong></p>
<p>Private key needs to be used offline</p>
<ul>
<li>request</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{ 
  <span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span> , 
  <span style="color:#e6db74">&#34;jsonrpc&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2.0&#34;</span> , 
  <span style="color:#e6db74">&#34;method&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;local_seed2Sk&#34;</span> , 
  <span style="color:#e6db74">&#34;params&#34;</span><span style="color:#f92672">:</span> [ 
    <span style="color:#e6db74">&#34;0xc0bdec98290c .... 79e7246c403&#34;</span> ,      <span style="color:#75715e">// seed seed 
</span><span style="color:#75715e"></span>    <span style="color:#ae81ff">1</span>                                    <span style="color:#75715e">// SuperZK version, 1: 1.0 2: 2.0, default is 1 
</span><span style="color:#75715e"></span>  ] 
}
</code></pre></div><ul>
<li>response</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{ 
  <span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span> , 
  <span style="color:#e6db74">&#34;result&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x1657f2f6f8a743 ...... 595f96be89b4f03&#34;</span>    <span style="color:#75715e">// Private key sk, 64byte hex encoding. 
</span><span style="color:#75715e"></span>  <span style="color:#e6db74">&#34;error&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
}
</code></pre></div><ul>
<li>go language</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">sk</span><span style="color:#f92672">:=</span><span style="color:#a6e22e">superzk</span>.<span style="color:#a6e22e">Seed2Sk</span> (
  <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">seed</span>,
  <span style="color:#ae81ff">1</span>             <span style="color:#75715e">// superzk protocol version 1: 1.0 2: 2.0 
</span><span style="color:#75715e"></span>)
</code></pre></div></li>
<li>
<p><strong>Generate tk from sk</strong></p>
<p>The tracking key TK cannot sign transactions, so it can be used online.</p>
<ul>
<li>request</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
  <span style="color:#e6db74">&#34;jsonrpc&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2.0&#34;</span>,
  <span style="color:#e6db74">&#34;method&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;local_sk2Tk&#34;</span>,
  <span style="color:#e6db74">&#34;params&#34;</span><span style="color:#f92672">:</span> [
    <span style="color:#e6db74">&#34;0x1657f2f6f8....95f96be89b4f03&#34;</span>      <span style="color:#75715e">//Private Key sk
</span><span style="color:#75715e"></span>  ]
}
</code></pre></div><ul>
<li>response</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{ 
  <span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span> , 
  <span style="color:#e6db74">&#34;result&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;tu1nEPYcBwBZm ...... r5Y1cXNAs8Ht4z&#34;</span>    <span style="color:#75715e">// Tracking key tk, 64byte base58 encoding. 
</span><span style="color:#75715e"></span>  <span style="color:#e6db74">&#34;error&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
}
</code></pre></div><ul>
<li>Go language</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">tk</span><span style="color:#f92672">:=</span><span style="color:#a6e22e">superzk</span>.<span style="color:#a6e22e">Sk2Tk</span>(<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">sk</span>)
</code></pre></div></li>
<li>
<p><strong>Generate PK from tk</strong></p>
<p>PK is a public key, so it can be used online.</p>
<ul>
<li>request</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{ 
  <span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span> , 
  <span style="color:#e6db74">&#34;jsonrpc&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2.0&#34;</span> , 
  <span style="color:#e6db74">&#34;method&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;local_tk2Pk&#34;</span> , 
  <span style="color:#e6db74">&#34;params&#34;</span><span style="color:#f92672">:</span> [ 
    <span style="color:#e6db74">&#34;tu1nEPYcBwBZ ... 1cXNAs8Ht4z&#34;</span>       <span style="color:#75715e">// Tracking key TK, which can be hex or base58 encoding. 
</span><span style="color:#75715e"></span>  ] 
}
</code></pre></div><ul>
<li>response</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{ 
  <span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span> , 
  <span style="color:#e6db74">&#34;result&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;tu1nEPYcBwBZm ...... cZojp6obBD87N&#34;</span>    <span style="color:#75715e">// Public key PK, 64byte base58 encoding. 
</span><span style="color:#75715e"></span>  <span style="color:#e6db74">&#34;error&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
}
</code></pre></div><ul>
<li>Go language</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">pk</span><span style="color:#f92672">:=</span><span style="color:#a6e22e">superzk</span>.<span style="color:#a6e22e">Tk2Pk</span>(<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">tk</span>)
</code></pre></div></li>
<li>
<p><strong>Generate PKr from PK</strong>
PKr is a collection code, which can be used online to identify users.</p>
<ul>
<li>request</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{ 
  <span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span> , 
  <span style="color:#e6db74">&#34;jsonrpc&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2.0&#34;</span> , 
  <span style="color:#e6db74">&#34;method&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;local_pk2Pkr&#34;</span> , 
  <span style="color:#e6db74">&#34;params&#34;</span><span style="color:#f92672">:</span> [ 
    <span style="color:#e6db74">&#34;tu1nEPYcBwBZ ...... cZojp6obBD87N&#34;</span> ,       <span style="color:#75715e">// Public key PK, which can be hex or base58 Code 
</span><span style="color:#75715e"></span>    <span style="color:#e6db74">&#34;0xd7a8cc1c7a1d09575950ca8004e3409ab7a6505b39a8e29783338e5016d8e7d1&#34;</span>  <span style="color:#75715e">// 32 byte random number 
</span><span style="color:#75715e"></span>  ] 
}
</code></pre></div><ul>
<li>response</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{ 
  <span style="color:#e6db74">&#34;id&#34;</span> <span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span> , 
  <span style="color:#e6db74">&#34;result&#34;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;26fUeqrEbq4qZU ...... MP9ehQLV5frg&#34;</span>    <span style="color:#75715e">// Receiving code PKr, 96byte base58 encoding 
</span><span style="color:#75715e"></span>  <span style="color:#e6db74">&#34;error&#34;</span> <span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
}
</code></pre></div><ul>
<li>Go language</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">pkr</span><span style="color:#f92672">:=</span><span style="color:#a6e22e">superzk</span>.<span style="color:#a6e22e">Pk2PKr</span>(<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">pk</span>)
</code></pre></div></li>
</ul>
<h3 id="utxo-analysis">
  UTXO Analysis
  <a class="anchor" href="#utxo-analysis">#</a>
</h3>
<p>From the <code>flight_getBlocksInfo</code> obtained block information, you can get the new one <code>UTXO</code>, which <code>UTXO</code> is ciphertext, so you need to use the tracking key <code>TK</code> for analysis. The analysis method <code>local_decOut</code> is also offline.</p>
<ul>
<li>request</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{ 
    <span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>, 
    <span style="color:#e6db74">&#34;jsonrpc&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2.0&#34;</span>, 
    <span style="color:#e6db74">&#34;method&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;local_decOut&#34;</span>, 
    <span style="color:#e6db74">&#34;params&#34;</span><span style="color:#f92672">:</span> [ 
			[{  <span style="color:#75715e">// Parameter 1: UTXO list to be parsed, from flight_getBlocksInfo 
</span><span style="color:#75715e"></span>				<span style="color:#a6e22e">Root</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x7b30cc8 ... .510fbb122e &#34;</span>, 
				<span style="color:#a6e22e">State</span><span style="color:#f92672">:</span> { 
					<span style="color:#a6e22e">Num</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">28</span>, 
					<span style="color:#a6e22e">OS</span><span style="color:#f92672">:</span> { 
						<span style="color:#a6e22e">Index</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">31</span>, 
						<span style="color:#a6e22e">Out_O</span><span style="color:#f92672">:</span> {  <span style="color:#75715e">// Out of plain text, and Out_Z will only have one 
</span><span style="color:#75715e"></span>							<span style="color:#a6e22e">Addr</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34; 0x7c02a05 ... ba6ac83a8 &#34;</span>,
							<span style="color:#a6e22e">Asset</span><span style="color:#f92672">:</span> {...}, 
							<span style="color:#a6e22e">Memo</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x0000 ...... 0000&#34;</span> 
						} , 
						<span style="color:#a6e22e">Out_Z</span><span style="color:#f92672">:</span> {  <span style="color:#75715e">// Out of ciphertext
</span><span style="color:#75715e"></span>							<span style="color:#a6e22e">AssetCM</span> <span style="color:#66d9ef">in</span> <span style="color:#a6e22e">ciphertext</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0xa2a0f ...... 745a9&#34;</span>, 
							<span style="color:#a6e22e">EInfo</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x68a9e ..... .b74ecfc493 &#34;</span> , 
							<span style="color:#a6e22e">OutCM</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34; 0xc90dc ...... 90ff58f &#34;</span>, 
							<span style="color:#a6e22e">PKr</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34; 0x9364f11 ...... 14406a3 &#34;</span>,     <span style="color:#75715e">// hex code of payment code PKr 
</span><span style="color:#75715e"></span>							<span style="color:#a6e22e">Proof</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34; 0x0341d67 ...... f941b0d &#34;</span>, 
							<span style="color:#a6e22e">RPK</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34; 0x6230d4 ...... 02b51c2 &#34;</span> 
						    } , 
						    <span style="color:#a6e22e">RootCM</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34; 0xff107b ...... ebdae30a2 &#34;</span>
					    } , 
					<span style="color:#a6e22e">TxHash</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x921b8 ...... be44829&#34;</span> 
				} 
			}] , 
			<span style="color:#e6db74">&#34;tu1nEPYcBwB ...... 5Y1cXNAs8Ht4z&#34;</span>    <span style="color:#75715e">// Parameter 2: TK corresponding to this UTXO 
</span><span style="color:#75715e"></span>		] 
}
</code></pre></div><ul>
<li>response</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{ 
    <span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>, 
	<span style="color:#e6db74">&#34;result&#34;</span><span style="color:#f92672">:</span> [ { 
		    <span style="color:#a6e22e">Asset</span><span style="color:#f92672">:</span> { 
        		<span style="color:#a6e22e">Tkn</span><span style="color:#f92672">:</span> { 
		            <span style="color:#a6e22e">Currency</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x00000 ...... 005345524f&#34;</span>,            <span style="color:#75715e">// Currency Name 
</span><span style="color:#75715e"></span>					<span style="color:#a6e22e">Value</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;1000000000000000000&#34;</span>                    <span style="color:#75715e">// Amount 
</span><span style="color:#75715e"></span>				} , 
				<span style="color:#a6e22e">Tkt</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>                                        <span style="color:#75715e">// Ticket assets, the exchange can ignore it 
</span><span style="color:#75715e"></span>			} , 
			<span style="color:#a6e22e">Memo</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x0000000 ...... 0000000000&#34;</span> ,                 <span style="color:#75715e">// Information 
</span><span style="color:#75715e"></span>			<span style="color:#a6e22e">Nils</span><span style="color:#f92672">:</span> [                                            <span style="color:#75715e">// The UTXO obsolete code 
</span><span style="color:#75715e"></span>                <span style="color:#e6db74">&#34;0x5f2324 ...... dda85393&#34;</span>,                           <span style="color:#e6db74">/ /</span> <span style="color:#a6e22e">As</span> <span style="color:#66d9ef">long</span> <span style="color:#a6e22e">as</span> <span style="color:#a6e22e">it</span> <span style="color:#a6e22e">is</span> <span style="color:#a6e22e">encountered</span> <span style="color:#a6e22e">during</span> <span style="color:#a6e22e">getBlocksInfo</span>, <span style="color:#a6e22e">the</span>
                <span style="color:#e6db74">&#34;0x661f10 ...... 90a6a720&#34;</span>                              <span style="color:#75715e">// UTXO is invalid 
</span><span style="color:#75715e"></span>            ] 
    } ] ,
    <span style="color:#e6db74">&#34;error&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
}
</code></pre></div><p>The following is the Go language version of UTXO analysis</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">import</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">github</span>.<span style="color:#a6e22e">com</span><span style="color:#f92672">/</span><span style="color:#a6e22e">ZorroChain</span><span style="color:#f92672">/</span><span style="color:#a6e22e">zorro</span><span style="color:#f92672">/</span><span style="color:#a6e22e">zero</span><span style="color:#f92672">/</span><span style="color:#a6e22e">txtool</span><span style="color:#f92672">/</span><span style="color:#a6e22e">flight</span><span style="color:#960050;background-color:#1e0010">&#39;</span>
<span style="color:#f92672">import</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">github</span>.<span style="color:#a6e22e">com</span><span style="color:#f92672">/</span><span style="color:#a6e22e">ZorroChain</span><span style="color:#f92672">/</span><span style="color:#a6e22e">zorro</span><span style="color:#f92672">/</span><span style="color:#a6e22e">zero</span><span style="color:#f92672">/</span><span style="color:#a6e22e">txtool</span><span style="color:#960050;background-color:#1e0010">&#39;</span>
<span style="color:#f92672">import</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">github</span>.<span style="color:#a6e22e">com</span><span style="color:#f92672">/</span><span style="color:#a6e22e">ZorroChain</span><span style="color:#f92672">/</span><span style="color:#a6e22e">zorro</span><span style="color:#f92672">/</span><span style="color:#a6e22e">czk</span><span style="color:#f92672">/</span><span style="color:#a6e22e">cpt</span><span style="color:#960050;background-color:#1e0010">&#39;</span>
<span style="color:#75715e">//---------
</span><span style="color:#75715e"></span><span style="color:#a6e22e">outs_str</span> <span style="color:#f92672">:=</span> <span style="color:#960050;background-color:#1e0010">&#39;</span>[{<span style="color:#a6e22e">Root</span>:<span style="color:#e6db74">&#34;0x7b30cc8....510fbb122e&#34;</span>,<span style="color:#f92672">...</span>.,<span style="color:#a6e22e">TxHash</span>:<span style="color:#e6db74">&#34;0x921b8......be44829&#34;</span>}]<span style="color:#960050;background-color:#1e0010">&#39;</span>
<span style="color:#a6e22e">tk_str</span> <span style="color:#f92672">:=</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#ae81ff">0xfd1b401d2bbfa09fba577b398b09b5ea075bd8f37773095c6e62271a4b080977</span><span style="color:#960050;background-color:#1e0010">&#39;</span>
<span style="color:#75715e">//---------
</span><span style="color:#75715e"></span><span style="color:#a6e22e">cpt</span>.<span style="color:#a6e22e">ZeroInit_OnlyInOuts</span>() 
<span style="color:#75715e">//---------
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">outs</span> []<span style="color:#a6e22e">txtool</span>.<span style="color:#a6e22e">Out</span>
<span style="color:#a6e22e">json</span>.<span style="color:#a6e22e">Unmarshal</span>([]byte(<span style="color:#a6e22e">outs_str</span>),<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">outs</span>)
<span style="color:#75715e">//---------
</span><span style="color:#75715e"></span><span style="color:#a6e22e">bs</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">hexutil</span>.<span style="color:#a6e22e">Decode</span>(<span style="color:#a6e22e">tk_str</span>)
<span style="color:#a6e22e">tk</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">keys</span>.<span style="color:#a6e22e">Uint512</span>{}
copy(<span style="color:#a6e22e">tk</span>[:], <span style="color:#a6e22e">bs</span>)
<span style="color:#75715e">//---------
</span><span style="color:#75715e"></span><span style="color:#a6e22e">douts</span>,<span style="color:#a6e22e">_</span>=<span style="color:#a6e22e">flight</span>.<span style="color:#a6e22e">DecOut</span>(<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">tk</span>,<span style="color:#a6e22e">outs</span>)
</code></pre></div><h3 id="offline-signature">
  Offline Signature
  <a class="anchor" href="#offline-signature">#</a>
</h3>
<p>After calling the <code>flight_genTxParam</code> assembly transaction signature parameters, the private key can be passed in to <code>sk</code> call the offline signature method to local_signTxWithSk generate the final transaction. After the final transaction is generated, it can be called <code>flight_commitTx</code> and broadcast to the entire network.</p>
<ul>
<li>request</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
<span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
    <span style="color:#e6db74">&#34;jsonrpc&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2.0&#34;</span>,
    <span style="color:#e6db74">&#34;method&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;local_signTxWithSk&#34;</span>,
    <span style="color:#e6db74">&#34;params&#34;</span><span style="color:#f92672">:</span> [
      {        <span style="color:#75715e">// txParam: the result of flight_genTxParam 
</span><span style="color:#75715e"></span>        <span style="color:#e6db74">&#34;Cmds&#34;</span><span style="color:#f92672">:</span> {},
		    <span style="color:#e6db74">&#34;Fee&#34;</span><span style="color:#f92672">:</span> {},
			  <span style="color:#e6db74">&#34;From&#34;</span><span style="color:#f92672">:</span> {},
		  	<span style="color:#e6db74">&#34;Gas&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">25000</span>,
	     <span style="color:#e6db74">&#34;GasPrice&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1000000000</span>,
		  	<span style="color:#e6db74">&#34;Ins&#34;</span><span style="color:#f92672">:</span> [{}],
		  	<span style="color:#e6db74">&#34;Outs&#34;</span><span style="color:#f92672">:</span> [{}, {}] 
		  }, 
	    <span style="color:#e6db74">&#34;0x1657f2f6 ...... f96be89b4f03&#34;</span>     <span style="color:#75715e">// private key SK 
</span><span style="color:#75715e"></span>	  ] 
}
</code></pre></div><ul>
<li>response</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{ 
	<span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>, 
  <span style="color:#e6db74">&#34;result&#34;</span><span style="color:#f92672">:</span> {     <span style="color:#75715e">// final transaction, the entire network to be broadcast by flight_commitTx 
</span><span style="color:#75715e"></span>    <span style="color:#e6db74">&#34;Gas&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x61a8&#34;</span> , 
    <span style="color:#e6db74">&#34;GasPrice&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x3b9aca00&#34;</span>, 
    <span style="color:#e6db74">&#34;Hash&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x813f69b7d60fe694ddfd6bec36e2adcba773a4518ee02354bd8f2f339f004a2e&#34;</span>, 
    <span style="color:#e6db74">&#34;Keys&#34;</span><span style="color:#f92672">:</span> [     <span style="color:#75715e">// The ciphertext UTXO parses the secret key and will not be submitted to the chain. It can be saved as confirmation evidence. 
</span><span style="color:#75715e"></span>      <span style="color:#e6db74">&#34;0x8e27d9fd65a178569b852cf71e476073b68c2f241074bbd7be712f145b84ee32&#34;</span>,  
      <span style="color:#e6db74">&#34;0x6d83ce881db4fd68876c9a84f354124a01f94d53e702facb4db8071bc6ae146f&#34;</span> 
	  ], 
	  <span style="color:#e6db74">&#34;Bases&#34;</span><span style="color:#f92672">:</span>
      [<span style="color:#e6db74">&#34;0x0000000000000000000000000000000000000000000000000000000000000000&#34;&#34;
</span><span style="color:#e6db74">      ],
</span><span style="color:#e6db74">		&#34;</span><span style="color:#a6e22e">Tx</span><span style="color:#e6db74">&#34;: {}
</span><span style="color:#e6db74">  },
</span><span style="color:#e6db74">	&#34;</span><span style="color:#a6e22e">error</span><span style="color:#960050;background-color:#1e0010">&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
}
</code></pre></div><p>You can also use Go language offline signature</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">import</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">github</span>.<span style="color:#a6e22e">com</span><span style="color:#f92672">/</span><span style="color:#a6e22e">ZorroChain</span><span style="color:#f92672">/</span><span style="color:#a6e22e">zorro</span><span style="color:#f92672">/</span><span style="color:#a6e22e">zero</span><span style="color:#f92672">/</span><span style="color:#a6e22e">txtool</span><span style="color:#f92672">/</span><span style="color:#a6e22e">flight</span><span style="color:#960050;background-color:#1e0010">&#39;</span>
<span style="color:#f92672">import</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">github</span>.<span style="color:#a6e22e">com</span><span style="color:#f92672">/</span><span style="color:#a6e22e">ZorroChain</span><span style="color:#f92672">/</span><span style="color:#a6e22e">zorro</span><span style="color:#f92672">/</span><span style="color:#a6e22e">zero</span><span style="color:#f92672">/</span><span style="color:#a6e22e">txtool</span><span style="color:#960050;background-color:#1e0010">&#39;</span>
<span style="color:#f92672">import</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">github</span>.<span style="color:#a6e22e">com</span><span style="color:#f92672">/</span><span style="color:#a6e22e">ZorroChain</span><span style="color:#f92672">/</span><span style="color:#a6e22e">zorro</span><span style="color:#f92672">/</span><span style="color:#a6e22e">czk</span><span style="color:#f92672">/</span><span style="color:#a6e22e">cpt</span><span style="color:#960050;background-color:#1e0010">&#39;</span>
<span style="color:#a6e22e">param_str</span> <span style="color:#f92672">:=</span> <span style="color:#960050;background-color:#1e0010">&#39;</span>{<span style="color:#e6db74">&#34;Gas&#34;</span> : <span style="color:#ae81ff">25000</span>, <span style="color:#e6db74">&#34;GasPrice&#34;</span>: <span style="color:#ae81ff">1000000000</span>, <span style="color:#e6db74">&#34;From&#34;</span>: {<span style="color:#e6db74">&#34; SKr&#34;</span>: <span style="color:#e6db74">&#34;0x0  ....&#34;</span>}}<span style="color:#960050;background-color:#1e0010">&#39;</span>   <span style="color:#75715e">// configured by a full node
</span><span style="color:#75715e"></span><span style="color:#a6e22e">sk_str</span> <span style="color:#f92672">:=</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#ae81ff">0xfd1b401d2bbfa09fba577b398b09b5ea075bd8f37773095c6e62271a4b080977</span><span style="color:#960050;background-color:#1e0010">&#39;</span>
<span style="color:#75715e">//------ 
</span><span style="color:#75715e"></span><span style="color:#a6e22e">cpt</span>.<span style="color:#a6e22e">ZeroInit_OnlyInOuts</span>() <span style="color:#75715e">// Initialization 
</span><span style="color:#75715e">//---- 
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">param</span> <span style="color:#a6e22e">txtool</span>.<span style="color:#a6e22e">GTxParam</span> 
<span style="color:#a6e22e">json</span>.<span style="color:#a6e22e">Unmarshal</span>([] byte(<span style="color:#a6e22e">param_str</span>), <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">stop</span>
<span style="color:#a6e22e">bs</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span>  <span style="color:#a6e22e">hexutil</span>.<span style="color:#a6e22e">Decode</span>(<span style="color:#a6e22e">sk_str</span>)
<span style="color:#a6e22e">sk</span> <span style="color:#f92672">:=</span>  <span style="color:#a6e22e">keys</span>.<span style="color:#a6e22e">Uint512</span>{}
copy(<span style="color:#a6e22e">sk</span>[:], <span style="color:#a6e22e">bs</span>)
<span style="color:#75715e">// --------- You can assemble SK --------- 
</span><span style="color:#75715e"></span><span style="color:#a6e22e">gtx</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">flight</span>.<span style="color:#a6e22e">SignTx</span>(<span style="color:#a6e22e">sk</span> , <span style="color:#a6e22e">param</span>)
<span style="color:#75715e">// ------ 
</span><span style="color:#75715e"></span><span style="color:#a6e22e">tx</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">json</span>.<span style="color:#a6e22e">Marshal</span> (<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">gtx</span>)
</code></pre></div><h3 id="confirm-out_z">
  Confirm Out_Z
  <a class="anchor" href="#confirm-out_z">#</a>
</h3>
<p>When signing a transaction, a key will be generated for each Out in Desc_Z, and this Key can be used to <code>local_confirmOutZ</code> reverse the clear text of this UTXO through the interface.</p>
<ul>
<li>request</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{ 
  <span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>, 
  <span style="color:#e6db74">&#34;jsonrpc&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2.0&#34;</span>, 
  <span style="color:#e6db74">&#34;method&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;local_confirmOutZ&#34;</span>, 
  <span style="color:#e6db74">&#34;params&#34;</span><span style="color:#f92672">:</span> [ 
    <span style="color:#e6db74">&#34;0x8e27d9fd65a17 .... 7be712f145b84ee32&#34;</span>,     <span style="color:#75715e">// Key decryption key, which is returned when signing. 
</span><span style="color:#75715e"></span>    {                                           <span style="color:#75715e">// Content of 
</span><span style="color:#75715e"></span>      <span style="color:#a6e22e">Out_Z</span> <span style="color:#a6e22e">AssetCM</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0xb5c26 .... 7bcdaf0425&#34;</span>, 
      <span style="color:#a6e22e">EInfo</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x589fa119 .... 741e562c1&#34;</span>, 
      <span style="color:#a6e22e">OutCM</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0xb1908 .... 3e48c14&#34;</span>, 
      <span style="color:#a6e22e">PKr</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x1da430a .... 27b0126&#34;</span>, 
      <span style="color:#a6e22e">Proof</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x03eed61 ..
</span><span style="color:#e6db74">      &#34;</span><span style="color:#ae81ff">0xc80da39</span>...<span style="color:#ae81ff">.3263</span><span style="color:#a6e22e">c2</span><span style="color:#960050;background-color:#1e0010">&#34;</span>
		}
  ]
}
</code></pre></div><ul>
<li>response</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
  <span style="color:#e6db74">&#34;result&#34;</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">Asset</span><span style="color:#f92672">:</span> {
      <span style="color:#a6e22e">Tkn</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">Currency</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x000000000....0000005345524f&#34;</span>,
        <span style="color:#a6e22e">Value</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;1000&#34;</span>
      },
			<span style="color:#a6e22e">Tkt</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
		},
  <span style="color:#a6e22e">Memo</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x0000000....00000000&#34;</span>,
  <span style="color:#a6e22e">Nils</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
  },
  <span style="color:#e6db74">&#34;error&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
}
</code></pre></div><ul>
<li>Go language</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">dec_out</span>,<span style="color:#a6e22e">err</span><span style="color:#f92672">:=</span><span style="color:#a6e22e">flight</span>.<span style="color:#a6e22e">ConfirmOutZ</span>(<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">key</span>,<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">outz</span>)
</code></pre></div><h3 id="confirm-out_c">
  Confirm Out_C
  <a class="anchor" href="#confirm-out_c">#</a>
</h3>
<p>When signing a transaction, a key will be generated for each Out_C in Tx1, and this key can be used to <code>local_confirmOutC</code>reverse the clear text of this UTXO through the interface.</p>
<ul>
<li>request</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{ 
  <span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>, 
  <span style="color:#e6db74">&#34;jsonrpc&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2.0&#34;</span>, 
  <span style="color:#e6db74">&#34;method&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;local_confirmOutC&#34;</span>, 
  <span style="color:#e6db74">&#34;params&#34;</span><span style="color:#f92672">:</span> [ 
    <span style="color:#e6db74">&#34;0x8e27d9fd65a17 .... 7be712f145b84ee32&#34;</span>,     <span style="color:#75715e">// Key decryption key, which is returned when signing. 
</span><span style="color:#75715e"></span>    {                                             <span style="color:#75715e">// Content of 
</span><span style="color:#75715e"></span>      <span style="color:#a6e22e">Out_C</span> <span style="color:#a6e22e">AssetCM</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0xb5c26 .... 7bcdaf0425&#34;</span>, 
      <span style="color:#a6e22e">EInfo</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x589fa119 .... 741e562c1&#34;</span>, 
      <span style="color:#a6e22e">PKr</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x1da430a .... 27b0126&#34;</span>, 
      <span style="color:#a6e22e">Proof</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x03eed61 .... b24ad9b2a&#34;</span>, 
  		<span style="color:#a6e22e">RPK</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0xc80da39....3263c2&#34;</span>
  	}
  ]
}
</code></pre></div><ul>
<li>response</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
	<span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
	<span style="color:#e6db74">&#34;result&#34;</span><span style="color:#f92672">:</span> {
		<span style="color:#a6e22e">Asset</span><span style="color:#f92672">:</span> {
			<span style="color:#a6e22e">Tkn</span><span style="color:#f92672">:</span> {
				<span style="color:#a6e22e">Currency</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x000000000....0000005345524f&#34;</span>,
				<span style="color:#a6e22e">Value</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;1000&#34;</span>
			},
			<span style="color:#a6e22e">Tkt</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
		},
		<span style="color:#a6e22e">Memo</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x0000000....00000000&#34;</span>,
		<span style="color:#a6e22e">Nils</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
	},
	<span style="color:#e6db74">&#34;error&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
}
</code></pre></div><ul>
<li>Go language</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">dec_out</span>,<span style="color:#a6e22e">err</span><span style="color:#f92672">:=</span><span style="color:#a6e22e">flight</span>.<span style="color:#a6e22e">ConfirmOutC</span>(<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">key</span>,<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">outc</span>)
</code></pre></div><h3 id="currency-name-interface">
  Currency name interface
  <a class="anchor" href="#currency-name-interface">#</a>
</h3>
<p>Currency Id is a 32-byte array, <code>\0</code> which can be converted to a string after removing all the previous ones. The offline method also provides a convenient method of mutual conversion.</p>
<p>** <em>Currency name to currency Id</em></p>
<ul>
<li>request</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
  	<span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
  	<span style="color:#e6db74">&#34;jsonrpc&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2.0&#34;</span>,
  	<span style="color:#e6db74">&#34;method&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;local_currencyToId&#34;</span>,
  	<span style="color:#e6db74">&#34;params&#34;</span><span style="color:#f92672">:</span> [
      <span style="color:#e6db74">&#34;ZORRO&#34;</span>     <span style="color:#75715e">// Currency name string
</span><span style="color:#75715e"></span>    ]
</code></pre></div><ul>
<li>response</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
	<span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
	<span style="color:#e6db74">&#34;result&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x00000000....000005345524f&#34;</span>,    <span style="color:#75715e">// Currency Id
</span><span style="color:#75715e"></span>	<span style="color:#e6db74">&#34;error&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
}
</code></pre></div><ul>
<li>Go language</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">currency_id</span><span style="color:#f92672">:=</span><span style="color:#a6e22e">flight</span>.<span style="color:#a6e22e">CurrencyToId</span>(<span style="color:#a6e22e">currency_str</span>)
</code></pre></div><ul>
<li>
<p><strong>Currency Id transfer name</strong></p>
</li>
<li>
<p>request</p>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
	<span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
	<span style="color:#e6db74">&#34;jsonrpc&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2.0&#34;</span>,
	<span style="color:#e6db74">&#34;method&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;local_idToCurrency&#34;</span>,
	<span style="color:#e6db74">&#34;params&#34;</span><span style="color:#f92672">:</span> [
    <span style="color:#e6db74">&#34;0x00000000....000005345524f&#34;</span>     <span style="color:#75715e">// Currency Id
</span><span style="color:#75715e"></span>  ]
}
</code></pre></div><ul>
<li>response</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
	<span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
	<span style="color:#e6db74">&#34;result&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;ZORRO&#34;</span>,    <span style="color:#75715e">// Currency name
</span><span style="color:#75715e"></span>	<span style="color:#e6db74">&#34;error&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
}
</code></pre></div><ul>
<li>Go language</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">currency_str</span><span style="color:#f92672">:=</span><span style="color:#a6e22e">flight</span>.<span style="color:#a6e22e">IdToCurrency</span>(<span style="color:#a6e22e">currency_id</span>)
</code></pre></div><h2 id="flight-interface">
  Flight interface
  <a class="anchor" href="#flight-interface">#</a>
</h2>
<p>The zro that starts the flight interface needs to synchronize the latest block, which provides online functions.</p>
<p>The startup method is:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">./zro --mineMode --datadir ~/zroData --port <span style="color:#ae81ff">53717</span> --rpc --rpcport <span style="color:#ae81ff">8545</span> --rpcapi flight,zorro --rpcaddr 127.0.0.1  --rpccorsdomain <span style="color:#e6db74">&#34;*&#34;</span> --keystore ~/keystore --confirmedBlock <span style="color:#ae81ff">32</span> --rpcwritetimeout <span style="color:#ae81ff">1800</span> --exchangeValueStr
</code></pre></div><h3 id="scan-blocks">
  Scan blocks
  <a class="anchor" href="#scan-blocks">#</a>
</h3>
<p>Scan the block to get the new UTXO and UTXO obsolete information in the block, but UTXO in both plain text and cipher text needs to call <code>local_decOut</code> decryption to get more details.</p>
<ul>
<li>request</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{ 
  	<span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>, 
  	<span style="color:#e6db74">&#34;jsonrpc&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2.0&#34;</span>, 
  	<span style="color:#e6db74">&#34;method&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;flight_getBlocksInfo&#34;</span>, 
  	<span style="color:#e6db74">&#34;params&#34;</span><span style="color:#f92672">:</span> [ 
      <span style="color:#ae81ff">15</span>,       <span style="color:#75715e">// start block height 
</span><span style="color:#75715e"></span>      <span style="color:#ae81ff">1</span>         <span style="color:#75715e">// get how many subsequent blocks 
</span><span style="color:#75715e"></span>    ] 
}
</code></pre></div><ul>
<li>response</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{ 
	<span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span> , 
	<span style="color:#e6db74">&#34;result&#34;</span><span style="color:#f92672">:</span> [{                                 <span style="color:#75715e">// Block object with height 15 
</span><span style="color:#75715e"></span>		<span style="color:#e6db74">&#34;Hash&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x33e2cb9 ..... 42e836e3b6b5&#34;</span>,      <span style="color:#75715e">// Block hash         
</span><span style="color:#75715e"></span>		<span style="color:#e6db74">&#34;Nils&#34;</span><span style="color:#f92672">:</span> [                                  <span style="color:#75715e">// The area Block invalidation UTXO obsolete code list 
</span><span style="color:#75715e"></span>			<span style="color:#e6db74">&#34;0x020d0 .... fc504a5&#34;</span>, 
			<span style="color:#e6db74">&#34;0x09f76 .... fe482a6&#34;</span>, 
			<span style="color:#e6db74">&#34;0xd2d8ff3 .... c5b4da6&#34;</span>, 
			<span style="color:#e6db74">&#34;0x51991f8 .... e4380a&#34;</span> 
		], 
		<span style="color:#e6db74">&#34;Num&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0xf &#34;</span>,                              <span style="color:#75715e">// The height of this block 
</span><span style="color:#75715e"></span>		<span style="color:#e6db74">&#34; Outs &#34;</span><span style="color:#f92672">:</span> [                                  <span style="color:#75715e">// The newly generated UTXO list in this block 
</span><span style="color:#75715e"></span>    {                                          <span style="color:#75715e">// The first UTXO 
</span><span style="color:#75715e"></span>			<span style="color:#e6db74">&#34; Root &#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x3f89df0c....300e3572d&#34;</span>,      <span style="color:#75715e">// The UTXO&#39;s Root 
</span><span style="color:#75715e"></span>			<span style="color:#e6db74">&#34;State&#34;</span><span style="color:#f92672">:</span> { 
				<span style="color:#e6db74">&#34;Num&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">15</span>, 
				<span style="color:#e6db74">&#34;OS&#34;</span><span style="color:#f92672">:</span> { 
					<span style="color:#e6db74">&#34;Index&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">15</span>, 
					<span style="color:#e6db74">&#34;Out_O&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>, 
					<span style="color:#e6db74">&#34;Out_Z&#34;</span><span style="color:#f92672">:</span> {                                 <span style="color:#75715e">// This UTXO is an anonymous 
</span><span style="color:#75715e"></span>						<span style="color:#e6db74">&#34;AssetCM&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x3defeb .... fbe1ec80&#34;</span>, 
						<span style="color:#e6db74">&#34;EInfo&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x218271e .... 190115c0&#34;</span>, 
						<span style="color:#e6db74">&#34;OutCM&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x2920 .... ad5faa5&#34;</span>, 
						<span style="color:#e6db74">&#34;PKr&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0xe1f .... 09b23&#34;</span>,                 <span style="color:#75715e">// The UTXO point to the payment code PKr 
</span><span style="color:#75715e"></span>						<span style="color:#e6db74">&#34;Proof&#34;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;0x03d8b7e....5c88c2e06&#34;</span>,
						<span style="color:#e6db74">&#34;RPK&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x44231e....96841&#34;</span>
					},
          <span style="color:#e6db74">&#34;Out_P&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
          <span style="color:#e6db74">&#34;Out_C&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
				},
				<span style="color:#e6db74">&#34;TxHash&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x482a2....bd0a5c2&#34;</span>
			}
		}, 
    {                                                 <span style="color:#75715e">// 2nd UTXO
</span><span style="color:#75715e"></span>			<span style="color:#e6db74">&#34;Root&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x8d98fe0....fe5bc71f&#34;</span>,
			<span style="color:#e6db74">&#34;State&#34;</span><span style="color:#f92672">:</span> {
				<span style="color:#e6db74">&#34;Num&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">15</span>,
				<span style="color:#e6db74">&#34;OS&#34;</span><span style="color:#f92672">:</span> {
					<span style="color:#e6db74">&#34;Index&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">16</span>,
					<span style="color:#e6db74">&#34;Out_O&#34;</span><span style="color:#f92672">:</span> {                                   <span style="color:#75715e">// This UTXO is in plain text
</span><span style="color:#75715e"></span>						<span style="color:#e6db74">&#34;Addr&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x7c02a0....ba6ac83a8 &#34;</span>, <span style="color:#75715e">//The UTXO point to the payment code PKr           
</span><span style="color:#75715e"></span>						<span style="color:#e6db74">&#34;Asset&#34;</span><span style="color:#f92672">:</span> {
							<span style="color:#e6db74">&#34;Tkn&#34;</span><span style="color:#f92672">:</span> {
								<span style="color:#e6db74">&#34;Currency&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x00000000....000005345524f&#34;</span>,
								<span style="color:#e6db74">&#34;Value&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;1000025000000000000&#34;</span>
							},
							<span style="color:#e6db74">&#34;Tkt&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
						},
						<span style="color:#e6db74">&#34;Memo&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x0000000....00000000&#34;</span>
					},
					<span style="color:#e6db74">&#34;Out_Z&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
				},
				<span style="color:#e6db74">&#34;TxHash&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x0000000....00000001&#34;</span>
			}
		}
    ],
		<span style="color:#e6db74">&#34;Pkgs&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>                                       <span style="color:#75715e">// Package assets, the exchange can ignore
</span><span style="color:#75715e"></span>	<span style="color:#e6db74">&#34;error&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
}
</code></pre></div><h3 id="get-extra-information-about-the-block">
  Get extra information about the block
  <a class="anchor" href="#get-extra-information-about-the-block">#</a>
</h3>
<p>This interface can obtain the latest or specified additional information of the block.</p>
<ul>
<li>request</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
  <span style="color:#e6db74">&#34;jsonrpc&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2.0&#34;</span>,
  <span style="color:#e6db74">&#34;method&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;flight_getBlockByNumber&#34;</span>,
  <span style="color:#e6db74">&#34;params&#34;</span><span style="color:#f92672">:</span> [
    <span style="color:#ae81ff">15</span>      <span style="color:#75715e">// Block height, empty is to get the latest block
</span><span style="color:#75715e"></span>  ]
}
</code></pre></div><ul>
<li>response</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{ 
	<span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>, 
	<span style="color:#e6db74">&#34;result&#34;</span><span style="color:#f92672">:</span> { 
    <span style="color:#a6e22e">BlockHash</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x33e2cb .... e3b6b5&#34;</span>,                <span style="color:#75715e">// Block Hash 
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">BlockNumber</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">15</span> ,                                <span style="color:#75715e">// Block Number 
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">Timestamp</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1565153901</span> ,                          <span style="color:#75715e">// Timestamp 
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">TxHashes</span><span style="color:#f92672">:</span> [ <span style="color:#e6db74">&#34;0x482a2 .. ..1bd0a5c2 &#34;</span> ]               <span style="color:#75715e">// Transaction Hash List 
</span><span style="color:#75715e"></span>  }, 
	<span style="color:#e6db74">&#34; error&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
}
</code></pre></div><h3 id="get-details-of-a-utxo">
  Get details of a UTXO
  <a class="anchor" href="#get-details-of-a-utxo">#</a>
</h3>
<p>Get UTXO details through UTXO&rsquo;s root</p>
<ul>
<li>request</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
	<span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
	<span style="color:#e6db74">&#34;jsonrpc&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2.0&#34;</span>,
	<span style="color:#e6db74">&#34;method&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;flight_getOut&#34;</span>,
	<span style="color:#e6db74">&#34;params&#34;</span><span style="color:#f92672">:</span> [
    <span style="color:#e6db74">&#34;0x0x7b30cc8....510fbb122e&#34;</span>      <span style="color:#75715e">// Root of a UTXO
</span><span style="color:#75715e"></span>  ]
}
</code></pre></div><ul>
<li>response</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{ 
	<span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>, 
	<span style="color:#e6db74">&#34;result&#34;</span><span style="color:#f92672">:</span> {                                     <span style="color:#75715e">// UTXO details 
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">Root</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x7b30cc8 .... 510fbb122e&#34;</span>,             
		<span style="color:#a6e22e">State</span><span style="color:#f92672">:</span> { 
			<span style="color:#a6e22e">Num</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">28</span>, 
			<span style="color:#a6e22e">OS</span><span style="color:#f92672">:</span> {                             <span style="color:#75715e">// There will only be one Out_O / Out_Z / Out_P / Out_C below
</span><span style="color:#75715e"></span>				<span style="color:#a6e22e">Index</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">31</span>, 
				<span style="color:#a6e22e">Out_O</span><span style="color:#f92672">:</span> {                                 <span style="color:#75715e">//SUPERZK1.0 plain text Out 
</span><span style="color:#75715e"></span>					<span style="color:#a6e22e">Addr</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x7c02a05 ... ba6ac83a8&#34;</span>,             <span style="color:#75715e">// hex code 
</span><span style="color:#75715e"></span>					<span style="color:#a6e22e">Asset</span> <span style="color:#a6e22e">collection</span> <span style="color:#a6e22e">code</span> <span style="color:#a6e22e">PKr</span><span style="color:#f92672">:</span> { ... }, 
					<span style="color:#a6e22e">Memo</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x0000 .. .... 0000 &#34;</span> 
				}, 
				<span style="color:#a6e22e">Out_Z</span><span style="color:#f92672">:</span> {                                <span style="color:#75715e">// Out 
</span><span style="color:#75715e"></span>					<span style="color:#a6e22e">AssetCM</span> <span style="color:#66d9ef">in</span> <span style="color:#a6e22e">SUPERZK1</span><span style="color:#ae81ff">.0</span> <span style="color:#a6e22e">ciphertext</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0xa2a0f ...... 745a9&#34;</span>, 
					<span style="color:#a6e22e">EInfo</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x68a9e ...... b74ecfc493&#34;</span>, 
					<span style="color:#a6e22e">OutCM</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0xc90dc ...... 90ff58f &#34;</span>, 
					<span style="color:#a6e22e">PKr</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34; 0x9364f11 ...... 14406a3 &#34;</span>,            <span style="color:#75715e">// hex code of payment code PKr 
</span><span style="color:#75715e"></span>					<span style="color:#a6e22e">Proof</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34; 0x0341d67 ...... f941b0d &#34;</span>, 
					<span style="color:#a6e22e">RPK</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34; 0x6230d4 ...... 02b51c2 &#34;</span> 
				}, 
        <span style="color:#a6e22e">Out_P</span><span style="color:#f92672">:</span> {                                <span style="color:#75715e">//SUPERZK2.0 plain text Out 
</span><span style="color:#75715e"></span>          <span style="color:#a6e22e">Asset</span><span style="color:#f92672">:</span> { ... } , 
          <span style="color:#a6e22e">Memo</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34; 0x00000 .... 000000&#34;</span>, 
          <span style="color:#a6e22e">PKr</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x77305 .... 6bce36e&#34;</span>                  <span style="color:#75715e">// hex code of payment code PKr 
</span><span style="color:#75715e"></span>        }, 
        <span style="color:#a6e22e">Out_C</span><span style="color:#f92672">:</span> {                                <span style="color:#75715e">//SUPERZK2.0 ciphertext Out 
</span><span style="color:#75715e"></span>          <span style="color:#a6e22e">AssetCM</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0xd3be8490 .... 12904aa09 &#34;</span>, 
          <span style="color:#a6e22e">EInfo</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34; 0xd42e33 .... b46e1cd3 &#34;</span>, 
        <span style="color:#a6e22e">PKr</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34; 0xcc0c3b71 .... d7fcbd3 &#34;</span>,             <span style="color:#75715e">// hex code of receipt code PKr 
</span><span style="color:#75715e"></span>          <span style="color:#a6e22e">Proof</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34; 0x02a04a89 .... ede4dca72f &#34;</span>, 
          <span style="color:#a6e22e">RPK</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34; 0x855ba .. ..352e88021 &#34;</span> 
        }, 
				<span style="color:#a6e22e">RootCM</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34; 0xff107b ...... ebdae30a2 &#34;</span> 
		}, 
		<span style="color:#a6e22e">TxHash</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;0x921b8......be44829&#34;</span>           <span style="color:#75715e">// Transaction Hash			}
</span><span style="color:#75715e"></span>		},
	<span style="color:#e6db74">&#34;error&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
}
</code></pre></div><h3 id="get-original-transaction-details">
  Get original transaction details
  <a class="anchor" href="#get-original-transaction-details">#</a>
</h3>
<p>Obtain the original transaction message through the transaction hash, that is, the signed transaction structure. This transaction structure cannot be used as the basis for final entry.</p>
<ul>
<li>request</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
	<span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
	<span style="color:#e6db74">&#34;jsonrpc&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2.0&#34;</span>,
	<span style="color:#e6db74">&#34;method&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;flight_getTx&#34;</span>,
	<span style="color:#e6db74">&#34;params&#34;</span><span style="color:#f92672">:</span> [
    <span style="color:#e6db74">&#34;0x482a2f......1bd0a5c2&#34;</span>      <span style="color:#75715e">//Transaction Hash
</span><span style="color:#75715e"></span>  ]
}
</code></pre></div><ul>
<li>response</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{ 
	<span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>, 
	<span style="color:#e6db74">&#34;result&#34;</span><span style="color:#f92672">:</span> {                                      <span style="color:#75715e">// raw transaction information 
</span><span style="color:#75715e"></span>		<span style="color:#e6db74">&#34;Gas&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x15f90&#34;</span>, 
		<span style="color:#e6db74">&#34;GasPrice&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x3b9aca00&#34;</span>, 
		<span style="color:#e6db74">&#34;Hash&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x482a2 ...... d0a5c2&#34;</span>, 
		<span style="color:#e6db74">&#34;Tx&#34;</span><span style="color:#f92672">:</span> { 
			<span style="color:#e6db74">&#34;Bcr&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x3334c5 ...... 9ffe532e&#34;</span>, 
			<span style="color:#e6db74">&#34;Bsign&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34; 0xa9045b3 ...... 03d3c4503&#34;</span>, 
			<span style="color:#e6db74">&#34;Desc_Cmd&#34;</span><span style="color:#f92672">:</span> {                                <span style="color:#75715e">// Execution command description, the exchange can ignore 
</span><span style="color:#75715e"></span>				<span style="color:#e6db74">&#34;BuyShare&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>, 
				<span style="color:#e6db74">&#34;ClosePool&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
				<span style="color:#e6db74">&#34;Contract&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
				<span style="color:#e6db74">&#34;RegistPool&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
			} , 
			<span style="color:#e6db74">&#34;Desc_O&#34;</span><span style="color:#f92672">:</span> { 
				<span style="color:#e6db74">&#34;Ins&#34;</span><span style="color:#f92672">:</span> [ {                                  <span style="color:#75715e">// clear input 
</span><span style="color:#75715e"></span>					<span style="color:#e6db74">&#34;Nil&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x020d0 ...... c504a5&#34;</span>, 
					<span style="color:#e6db74">&#34;Root&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x09f765 ...... 5fe482a6 &#34;</span>, 
					<span style="color:#e6db74">&#34; Sign &#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34; 0xcde0ef ...... c05e1b3b02 &#34;</span> 
				}] , 
				<span style="color:#e6db74">&#34;Outs&#34;</span><span style="color:#f92672">:</span> [ ]                                 <span style="color:#75715e">// Clear text output, only used for smart contracts, exchange ignores 
</span><span style="color:#75715e"></span>			} , 
			<span style="color:#e6db74">&#34;Desc_Pkg&#34;</span><span style="color:#f92672">:</span> { 
			  <span style="color:#e6db74">&#34;Close&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>, 
				<span style="color:#e6db74">&#34;Create&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
				<span style="color:#e6db74">&#34;Transfer&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
			},
			<span style="color:#e6db74">&#34;Desc_Z&#34;</span><span style="color:#f92672">:</span> {
				<span style="color:#e6db74">&#34;Ins&#34;</span><span style="color:#f92672">:</span> [],                                   <span style="color:#75715e">// Cipher text input
</span><span style="color:#75715e"></span>				<span style="color:#e6db74">&#34;Outs&#34;</span><span style="color:#f92672">:</span> [{                                   <span style="color:#75715e">// Cipher text output
</span><span style="color:#75715e"></span>					<span style="color:#e6db74">&#34;AssetCM&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x3defeb7......afbe1ec80&#34;</span>,
					<span style="color:#e6db74">&#34;EInfo&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x218271ed71......4190115c0&#34;</span>,
					<span style="color:#e6db74">&#34;OutCM&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x29201d......1ad5faa5&#34;</span>,
					<span style="color:#e6db74">&#34;PKr&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0xe1f915......f09b23&#34;</span>,
					<span style="color:#e6db74">&#34;Proof&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x03d8b......8c2e06&#34;</span>,
					<span style="color:#e6db74">&#34;RPK&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x44231......f196841&#34;</span>
				}]
			},
			<span style="color:#e6db74">&#34;Ehash&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0xe0624......fb4b00c&#34;</span>, 
			<span style="color:#e6db74">&#34;Fee&#34;</span><span style="color:#f92672">:</span> {                                            <span style="color:#75715e">// Handling fee 
</span><span style="color:#75715e"></span>				<span style="color:#e6db74">&#34;Currency&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x0000000 ...... 00005345524f&#34;</span>,        <span style="color:#75715e">// Currency, you can use local_hexToCurrency to translate 
</span><span style="color:#75715e"></span>				<span style="color:#e6db74">&#34;Value&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;90000000000000&#34;</span>                         <span style="color:#75715e">// Amount 
</span><span style="color:#75715e"></span>			} , 
			<span style="color:#e6db74">&#34;From&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x3fb451 ...... 42be2a0&#34;</span>,                    <span style="color:#75715e">// The sender&#39;s collection code is also the address where excess gas is returned. 
</span><span style="color:#75715e"></span>			<span style="color:#e6db74">&#34;Sign&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x5fdd91 ...... d98405&#34;</span>, 
      <span style="color:#e6db74">&#34;Tx1&#34;</span><span style="color:#f92672">:</span> {                                      <span style="color:#75715e">//SuperZK2.0 transaction content 
</span><span style="color:#75715e"></span>        <span style="color:#e6db74">&#34;Ins_C&#34;</span><span style="color:#f92672">:</span> [{...}] ,                           <span style="color:#75715e">// ciphertext input 
</span><span style="color:#75715e"></span>        <span style="color:#e6db74">&#34;Ins_P&#34;</span><span style="color:#f92672">:</span> [],                               <span style="color:#75715e">//SuperZK1.0-2.0 conversion input 
</span><span style="color:#75715e"></span>        <span style="color:#e6db74">&#34;Outs_C&#34;</span><span style="color:#f92672">:</span> [{...}] ,                          <span style="color:#75715e">// ciphertext output 
</span><span style="color:#75715e"></span>        <span style="color:#e6db74">&#34;Outs_P&#34;</span><span style="color:#f92672">:</span> [{...}]                           <span style="color:#75715e">// plaintext output 
</span><span style="color:#75715e"></span>      } 
		} 
	} , 
	<span style="color:#e6db74">&#34; error&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
}
</code></pre></div><h3 id="get-a-transaction-receipt">
  Get a transaction receipt
  <a class="anchor" href="#get-a-transaction-receipt">#</a>
</h3>
<p>Get the result of the transaction. If the request is successful, it means that the transaction has been successfully packed into the block.</p>
<ul>
<li>request</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
  <span style="color:#e6db74">&#34;jsonrpc&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2.0&#34;</span>,
  <span style="color:#e6db74">&#34;method&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;flight_getTxReceipt&#34;</span>,
  <span style="color:#e6db74">&#34;params&#34;</span><span style="color:#f92672">:</span> [
    <span style="color:#e6db74">&#34;0x482a2f......1bd0a5c2&#34;</span>      <span style="color:#75715e">// Hash of a transaction
</span><span style="color:#75715e"></span>  ]
}
</code></pre></div><ul>
<li>response</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{ 
	<span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>, 
	<span style="color:#e6db74">&#34;result&#34;</span><span style="color:#f92672">:</span> { 
		<span style="color:#a6e22e">BHash</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x33e2cb ...... e836e3b6b5&#34;</span>,           <span style="color:#75715e">// Packed block Hash 
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">BNum</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">15</span> ,                                    <span style="color:#75715e">// Packed block height 
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">Nils</span><span style="color:#f92672">:</span> [                                      <span style="color:#75715e">// The invalid code of the transaction List 
</span><span style="color:#75715e"></span>      <span style="color:#e6db74">&#34;0x09f765a ...... d55fe482a6&#34;</span>, 
      <span style="color:#e6db74">&#34;0x51991f8e ...... 6fe2dfe4380a&#34;</span> 
    ], 
		<span style="color:#a6e22e">Outs</span><span style="color:#f92672">:</span> [                                      <span style="color:#75715e">// Root list of UTXO generated by the transaction 
</span><span style="color:#75715e"></span>      <span style="color:#e6db74">&#34;0x3f89df0c ...... e14a300e3572d&#34;</span>,  
      <span style="color:#e6db74">&#34;0x3f9e217. ..... 94fdabde70a7 &#34;</span>,  
      <span style="color:#e6db74">&#34; 0x1d87a74a3 ...... 2d725144d6cd15 &#34;</span> 
    ], 
		<span style="color:#a6e22e">Pkgs</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
		<span style="color:#a6e22e">PoolId</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>, 
		<span style="color:#a6e22e">ShareId</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>, 
		<span style="color:#a6e22e">State</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>,                                     <span style="color:#75715e">// Whether the smart contract runs successfully 
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">TxHash</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x482a2f219d ...... a11bd0a5c2&#34;</span>        <span style="color:#75715e">// Transaction Hash 
</span><span style="color:#75715e"></span>	} , 
	<span style="color:#e6db74">&#34;error&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
}
</code></pre></div><h3 id="assembly-transaction-signature-parameters">
  Assembly transaction signature parameters
  <a class="anchor" href="#assembly-transaction-signature-parameters">#</a>
</h3>
<p>The listing person needs to select the UTXO to be used to assemble the transaction. The assembly needs to provide the tracking key TK online, the <code>flight_genTxParam</code> method will obtain the current block witness, and automatically generate a change Out to balance the transaction amount. The output can be used <code>local_signTxWithSk</code> to sign.</p>
<ul>
<li>request</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{ 
	<span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>, 
	<span style="color:#e6db74">&#34;jsonrpc&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2.0&#34;</span>, 
	<span style="color:#e6db74">&#34;method&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;flight_genTxParam&#34;</span>, 
	<span style="color:#e6db74">&#34;params&#34;</span><span style="color:#f92672">:</span> [{     <span style="color:#75715e">// Parameter 1: Pre-assembled transaction structure 
</span><span style="color:#75715e"></span>		<span style="color:#e6db74">&#34;From&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0xb8d01 ...... 143099 &#34;</span>,            <span style="color:#75715e">// Change the payment code PKr, it needs to be matched with TK. 
</span><span style="color:#75715e"></span>		<span style="color:#e6db74">&#34;Gas&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">25000</span>,                             <span style="color:#75715e">// Max Gas consumption 
</span><span style="color:#75715e"></span>		<span style="color:#e6db74">&#34;GasPrice&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1000000000</span>,                   <span style="color:#75715e">// Gas price, the minimum is 1Gta 
</span><span style="color:#75715e"></span>		<span style="color:#e6db74">&#34;Ins&#34;</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#34;0x7b30c ...... 0fbb122e&#34;</span>],         <span style="color:#75715e">// Enter the root list of UTXO, Need to make sure it is UTXO under TK. 
</span><span style="color:#75715e"></span>		<span style="color:#e6db74">&#34;Outs&#34;</span><span style="color:#f92672">:</span> [{ 
			<span style="color:#e6db74">&#34;Asset&#34;</span><span style="color:#f92672">:</span> {                              <span style="color:#75715e">// Asset object 
</span><span style="color:#75715e"></span>				<span style="color:#e6db74">&#34;Tkn&#34;</span><span style="color:#f92672">:</span> {                                      <span style="color:#75715e">// Token object (homogenization token) 
</span><span style="color:#75715e"></span>					<span style="color:#e6db74">&#34;Currency&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x00000 ...... 005345524f&#34;</span>,      <span style="color:#75715e">// Currency Id, after removing 0 ASCII string &#34;ZORRO&#34; 
</span><span style="color:#75715e"></span>					<span style="color:#e6db74">&#34;Value&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;500000000000000000&#34;</span>               <span style="color:#75715e">// currency amount 
</span><span style="color:#75715e"></span>				} 
			}, 
			<span style="color:#e6db74">&#34;PKr&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x3b78d ...... 4603daa&#34;</span>           <span style="color:#75715e">// output receipt code PKr 
</span><span style="color:#75715e"></span>		}]
	}, 
  <span style="color:#e6db74">&#34;tu1nEPY. ..... As8Ht4z &#34;</span>    <span style="color:#75715e">// Parameter 2: Tracking key TK 
</span><span style="color:#75715e"></span>  ] 
}
</code></pre></div><ul>
<li>response</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
	<span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
	<span style="color:#e6db74">&#34;result&#34;</span><span style="color:#f92672">:</span> {
		<span style="color:#e6db74">&#34;Cmds&#34;</span><span style="color:#f92672">:</span> {                                <span style="color:#75715e">// Trading order
</span><span style="color:#75715e"></span>			<span style="color:#e6db74">&#34;BuyShare&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
			<span style="color:#e6db74">&#34;ClosePool&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
			<span style="color:#e6db74">&#34;Contract&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
			<span style="color:#e6db74">&#34;PkgClose&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
			<span style="color:#e6db74">&#34;PkgCreate&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
			<span style="color:#e6db74">&#34;PkgTransfer&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
			<span style="color:#e6db74">&#34;RegistPool&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
		},
		<span style="color:#e6db74">&#34;Fee&#34;</span><span style="color:#f92672">:</span> {                                <span style="color:#75715e">// transaction fee
</span><span style="color:#75715e"></span>			<span style="color:#e6db74">&#34;Currency&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x0000000......0005345524f&#34;</span>,
			<span style="color:#e6db74">&#34;Value&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;25000000000000&#34;</span>
		},
		<span style="color:#e6db74">&#34;From&#34;</span><span style="color:#f92672">:</span> {                                <span style="color:#75715e">// Gas finds the recovery code PKr 
</span><span style="color:#75715e"></span>			<span style="color:#e6db74">&#34;PKr&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0xb8d018f2 ...... 58143099&#34;</span>, 
			<span style="color:#e6db74">&#34;SKr&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x00000 ...... 00000&#34;</span>} , 
		<span style="color:#e6db74">&#34;Gas&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">25000</span>,                            <span style="color:#75715e">// Max gas consumption 
</span><span style="color:#75715e"></span>    <span style="color:#e6db74">&#34;GasPrice&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100000000</span>,                   <span style="color:#75715e">// Gas price 
</span><span style="color:#75715e"></span>		<span style="color:#e6db74">&#34;Ins&#34;</span><span style="color:#f92672">:</span> [{                              <span style="color:#75715e">// Input list 
</span><span style="color:#75715e"></span>			<span style="color:#e6db74">&#34;Out&#34;</span><span style="color:#f92672">:</span> {
				<span style="color:#e6db74">&#34;Root&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x7b30cc81 ...... 10fbb122e&#34;</span>, 
				<span style="color:#e6db74">&#34;State&#34;</span><span style="color:#f92672">:</span> { 
					<span style="color:#e6db74">&#34;Num&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">28</span>, 
					<span style="color:#e6db74">&#34;OS&#34;</span><span style="color:#f92672">:</span> {
						<span style="color:#e6db74">&#34;Index&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">31</span>,
						<span style="color:#e6db74">&#34;OutCM&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
						<span style="color:#e6db74">&#34;Out_O&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
						<span style="color:#e6db74">&#34;Out_Z&#34;</span><span style="color:#f92672">:</span> {
							<span style="color:#e6db74">&#34;AssetCM&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0xa2a0f0......03745a9&#34;</span>,
							<span style="color:#e6db74">&#34;EInfo&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x68a9ed......cfc493&#34;</span>,
							<span style="color:#e6db74">&#34;OutCM&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0xc90dc......0ff58f&#34;</span>,
							<span style="color:#e6db74">&#34;PKr&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x9364f......4406a3&#34;</span>,
							<span style="color:#e6db74">&#34;Proof&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x0341d6......57f941b0d&#34;</span>,
							<span style="color:#e6db74">&#34;RPK&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x6230d427......02b51c2&#34;</span>
						},
						<span style="color:#e6db74">&#34;RootCM&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0xff107b......dae30a2&#34;</span>
					},
					<span style="color:#e6db74">&#34;TxHash&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x921b8......e44829&#34;</span>
				}
			},
			<span style="color:#e6db74">&#34;SKr&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x0000000......000000&#34;</span>,
			<span style="color:#e6db74">&#34;Witness&#34;</span><span style="color:#f92672">:</span> {
				<span style="color:#e6db74">&#34;Anchor&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0xde09cc......463503&#34;</span>,
				<span style="color:#e6db74">&#34;Paths&#34;</span><span style="color:#f92672">:</span> [
          <span style="color:#e6db74">&#34;0x1777ebb......b3cf9c2c&#34;</span>, 
          ......
          <span style="color:#e6db74">&#34;0x3edc6......be382&#34;</span>
        ],
				<span style="color:#e6db74">&#34;Pos&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x1f&#34;</span>
			}
		}],
		<span style="color:#e6db74">&#34;Outs&#34;</span><span style="color:#f92672">:</span> [{                                <span style="color:#75715e">// Output list
</span><span style="color:#75715e"></span>			<span style="color:#e6db74">&#34;Asset&#34;</span><span style="color:#f92672">:</span> {
				<span style="color:#e6db74">&#34;Tkn&#34;</span><span style="color:#f92672">:</span> {
					<span style="color:#e6db74">&#34;Currency&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x00000000......000005345524f&#34;</span>,
					<span style="color:#e6db74">&#34;Value&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;500000000000000000&#34;</span>
				},
				<span style="color:#e6db74">&#34;Tkt&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
			},
			<span style="color:#e6db74">&#34;Memo&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x00000000......0000000000&#34;</span>,
			<span style="color:#e6db74">&#34;PKr&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x3b78dd......4603daa&#34;</span>
		  <span style="color:#e6db74">&#34;Asset&#34;</span><span style="color:#f92672">:</span> {<span style="color:#75715e">// Automatically balanced change output{,}                                      
</span><span style="color:#75715e"></span>		  	<span style="color:#e6db74">&#34;Tkn&#34;</span><span style="color:#f92672">:</span> {
		  		<span style="color:#e6db74">&#34;Currency&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x0000000......00005345524f&#34;</span>,
		  		<span style="color:#e6db74">&#34;Value&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;499975000000000000&#34;</span>
		  	},
				<span style="color:#e6db74">&#34;Tkt&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
		  },
		<span style="color:#e6db74">&#34;Memo&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x0000000......0000000&#34;</span>,
		<span style="color:#e6db74">&#34;PKr&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0xb8d018......143099&#34;</span>
		}]
	},
	<span style="color:#e6db74">&#34;error&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
}
</code></pre></div><h3 id="broadcast-transaction">
  Broadcast transaction
  <a class="anchor" href="#broadcast-transaction">#</a>
</h3>
<p>After the call <code>local_signTxWithSk</code> is signed, the output transaction can be called and <code>flight_commitTx</code> broadcast to the whole network.</p>
<ul>
<li>request</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
	<span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
	<span style="color:#e6db74">&#34;jsonrpc&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2.0&#34;</span>,
	<span style="color:#e6db74">&#34;method&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;flight_commitTx&#34;</span>,
	<span style="color:#e6db74">&#34;params&#34;</span><span style="color:#f92672">:</span> [{    <span style="color:#75715e">// output of local_signTxWithSk
</span><span style="color:#75715e"></span>		<span style="color:#e6db74">&#34;Gas&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x61a8&#34;</span>,
		<span style="color:#e6db74">&#34;GasPrice&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x3b9aca00&#34;</span>,
		<span style="color:#e6db74">&#34;Hash&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x813f69b7d60fe694ddfd6bec36e2adcba773a4518ee02354bd8f2f339f004a2e&#34;</span>,
		<span style="color:#e6db74">&#34;Tx&#34;</span><span style="color:#f92672">:</span> {...}
	}]
}
</code></pre></div><ul>
<li>response</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
	<span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
	<span style="color:#e6db74">&#34;result&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,    <span style="color:#75715e">// Successfully return null
</span><span style="color:#75715e"></span>  <span style="color:#e6db74">&#34;error&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
}
</code></pre></div><h3 id="extract-the-corresponding-root-through-tk-and-trace">
  Extract the corresponding Root through TK and Trace
  <a class="anchor" href="#extract-the-corresponding-root-through-tk-and-trace">#</a>
</h3>
<p>When the transaction is signed, a Base is generated for each In in In_Z or In_C, and <code>flight_trace2Rootthe</code> root of UTXO corresponding to the In can be extracted through the three values of Base, Trace/NIL, and TK.</p>
<ul>
<li>request</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{ 
	<span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>, 
	<span style="color:#e6db74">&#34;jsonrpc&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2.0&#34;</span>, 
	<span style="color:#e6db74">&#34;method&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;flight_trace2Root&#34;</span>, 
	<span style="color:#e6db74">&#34;params&#34;</span><span style="color:#f92672">:</span> [ 
    <span style="color:#e6db74">&#34;0xbb793767f ...... 070f62f05&#34;</span>,   <span style="color:#75715e">// TK tracking key 
</span><span style="color:#75715e"></span>    <span style="color:#e6db74">&#34;0x0207f1a29 ... ... e7652eda1&#34;</span>,   <span style="color:#75715e">// Trace original Trace field in Desc_Z.Ins 
</span><span style="color:#75715e"></span>    <span style="color:#e6db74">&#34; 0x000000000 ...... 000000000&#34;</span>    <span style="color:#75715e">// Base value after signature 
</span><span style="color:#75715e"></span>  ] 
}
</code></pre></div><ul>
<li>response</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
	<span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
	<span style="color:#e6db74">&#34;result&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x51182a6775......f07d1e49a095&#34;</span>,    <span style="color:#75715e">// Root value
</span><span style="color:#75715e"></span>  <span style="color:#e6db74">&#34;error&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
}
</code></pre></div></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">

  


  

  


  


<div class="book-languages" tabindex="0" aria-haspopup="true">
  <ul>
    <li class="flex align-center">
      <img src="/svg/translate.svg" class="book-icon" alt="Languages" />
      English
    </li> 
  </ul>

  <ul class="book-languages-list">
    
    <li class="active">
      <a href="https://Ethan-91.github.io/" class="flex align-center">
        <img src="/svg/translate.svg" class="book-icon" alt="Languages" />
        English
      </a>
    </li>
    
    <li class="">
      <a href="https://Ethan-91.github.io/zh/docs/course/flight-interface/" class="flex align-center">
        <img src="/svg/translate.svg" class="book-icon" alt="Languages" />
        Chinese
      </a>
    </li>
    
  </ul>
</div>






</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#project-docking-solution">Project Docking Solution</a>
      <ul>
        <li><a href="#local-interface">Local Interface</a></li>
        <li><a href="#account-management">Account Management</a></li>
        <li><a href="#utxo-analysis">UTXO Analysis</a></li>
        <li><a href="#offline-signature">Offline Signature</a></li>
        <li><a href="#confirm-out_z">Confirm Out_Z</a></li>
        <li><a href="#confirm-out_c">Confirm Out_C</a></li>
        <li><a href="#currency-name-interface">Currency name interface</a></li>
      </ul>
    </li>
    <li><a href="#flight-interface">Flight interface</a>
      <ul>
        <li><a href="#scan-blocks">Scan blocks</a></li>
        <li><a href="#get-extra-information-about-the-block">Get extra information about the block</a></li>
        <li><a href="#get-details-of-a-utxo">Get details of a UTXO</a></li>
        <li><a href="#get-original-transaction-details">Get original transaction details</a></li>
        <li><a href="#get-a-transaction-receipt">Get a transaction receipt</a></li>
        <li><a href="#assembly-transaction-signature-parameters">Assembly transaction signature parameters</a></li>
        <li><a href="#broadcast-transaction">Broadcast transaction</a></li>
        <li><a href="#extract-the-corresponding-root-through-tk-and-trace">Extract the corresponding Root through TK and Trace</a></li>
      </ul>
    </li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>

</html>












