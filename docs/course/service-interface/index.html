<!DOCTYPE html>
<html lang="en" dir=>

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Service Interface (SI) Description# SI services are opened on Zro, enabling third parties to connect to Zro via RPC/Web3 and obtain stateless public chain services.
SI is used without maintaining public and private keys created by third parties, so third parties need to create and store their own public and private keys and provide them to SI when needed.
CreateKr# Create public and private keys">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="Service Interface(SI) Description" />
<meta property="og:description" content="Service Interface (SI) Description# SI services are opened on Zro, enabling third parties to connect to Zro via RPC/Web3 and obtain stateless public chain services.
SI is used without maintaining public and private keys created by third parties, so third parties need to create and store their own public and private keys and provide them to SI when needed.
CreateKr# Create public and private keys" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://Ethan-91.github.io/docs/course/service-interface/" />

<title>Service Interface(SI) Description | ZORRO</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="alternate" hreflang="zh" href="https://Ethan-91.github.io/zh/docs/course/service-interface/" title="NODE对接(SI接口说明)">

<link rel="stylesheet" href="/book.min.b3215d9d1d18d9051e7fbe8f256ff80e30f41d29073b86348e230d297b771002.css" integrity="sha256-syFdnR0Y2QUef76PJW/4DjD0HSkHO4Y0jiMNKXt3EAI=">
<script defer src="/en.search.min.88a517a499b999098a8e8b3e0562c5d902d3c5b21c6a48ea82992489b1c4fdf9.js" integrity="sha256-iKUXpJm5mQmKjos&#43;BWLF2QLTxbIcakjqgpkkibHE/fk="></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body dir=>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/"><span>ZORRO</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  



  
  
  
  

  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
    <span>Getting started</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/docs/introduction/build-from-sourcecoude/" class="">Build from the source code</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/introduction/operate-in-console/" class="">Console operation</a>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
    <span>Tutorial</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/docs/course/service-interface/" class="active">Service Interface(SI) Description</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/course/exchange-interface/" class="">Exchange Interface(EI) Description</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/course/flight-interface/" class="">Flight Interface(FI) Description</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/course/principle-of-anonymous-token/" class="">Anonymous tokens issuance principle</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/course/how-to-staking-using-zro/" class="">How to start ZORRO Staking on zro</a>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
  </ul>
  















</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Service Interface(SI) Description</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
    <input type="checkbox" class="hidden" id="toc-control" />
    <aside class="hidden clearfix">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#createkr"><strong>CreateKr</strong></a></li>
    <li><a href="#getblocksinfo"><strong>GetBlocksInfo</strong></a></li>
    <li><a href="#detail"><strong>Detail</strong></a></li>
    <li><a href="#gentx"><strong>GenTx</strong></a></li>
    <li><a href="#committx"><strong>CommitTx</strong></a></li>
    <li><a href="#suggested-docking-solution"><strong>Suggested docking solution</strong></a></li>
  </ul>
</nav>


    </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="service-interface-si-description">
  <strong>Service Interface (SI) Description</strong>
  <a class="anchor" href="#service-interface-si-description">#</a>
</h1>
<hr>
<p>SI services are opened on Zro, enabling third parties to connect to Zro via RPC/Web3 and obtain stateless public chain 
services.</p>
<p>SI is used without maintaining public and private keys created by third parties, so third parties need to create and 
store their own  public and private keys and provide them to SI when needed.</p>
<h2 id="createkr">
  <strong>CreateKr</strong>
  <a class="anchor" href="#createkr">#</a>
</h2>
<hr>
<p>Create public and private keys</p>
<ul>
<li>Request</li>
</ul>
<pre><code>  {&quot;id&quot;:0,&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;ssi_createKr&quot;,&quot;params&quot;:null}
</code></pre><ul>
<li>Successful Response</li>
</ul>
<pre><code>  {
    &quot;SKr&quot;:&quot;0x5bf7d....a0016&quot;, //private key
    &quot;PKr&quot;:&quot;0x904bb....09baa&quot;  //public key
  }
</code></pre><ul>
<li>szkCreateKr generates <strong>SuperZK2.0</strong> protocal account</li>
</ul>
<h2 id="getblocksinfo">
  <strong>GetBlocksInfo</strong>
  <a class="anchor" href="#getblocksinfo">#</a>
</h2>
<hr>
<p>Used to actively synchronize block data</p>
<ul>
<li>Request</li>
</ul>
<pre><code>  {
    &quot;id&quot;:0,
    &quot;jsonrpc&quot;:&quot;2.0&quot;,
    &quot;method&quot;:&quot;ssi_getBlocksInfo&quot;,
    &quot;params&quot;:[
        &quot;0x0&quot;,                //starting block
        &quot;0x5&quot;                 //How many blocks can you get at most
    ]
  }
</code></pre><ul>
<li>Successful Response</li>
</ul>
<pre><code>  [
      {
         &quot;Num&quot;:&quot;0x0&quot;,            //block number
         &quot;Hash&quot;:&quot;0x2472...2003&quot;  //Block Hash
         &quot;Outs&quot;:[
             {
             &quot;Hash&quot;:&quot;0x...&quot;              //Tx Hash
             &quot;Root&quot;:&quot;0xfa2e8....5a717&quot;,  //the Merkle Root of the Out
             &quot;PKr&quot;: &quot;0xaf630....7ca29&quot;   //The temporary public key of the Out
             }
         ],
         &quot;Nils&quot;:[&quot;0x...&quot;,...]    //cancel code
       },
       ...
  ]
</code></pre><h2 id="detail">
  <strong>Detail</strong>
  <a class="anchor" href="#detail">#</a>
</h2>
<hr>
<p>Gets plaintext of the Out</p>
<ul>
<li>Request</li>
</ul>
<pre><code>  {
    &quot;id&quot;:1,
    &quot;jsonrpc&quot;:&quot;2.0&quot;,
    &quot;method&quot;:&quot;ssi_detail&quot;,
    &quot;params&quot;:[
        [&quot;0x...&quot;,&quot;0x...&quot;],  //To untangle the root list of plaintext out, you need to have the same PKr
        &quot;0x...&quot;             //the Skr corresponds to the Pkr of the Out
    ]
  }
</code></pre><ul>
<li>Successful Response</li>
</ul>
<pre><code>  {
      &quot;id&quot;:1,
      &quot;jsonrpc&quot;:&quot;2.0&quot;,
      &quot;result&quot;:[
          {
              &quot;Asset&quot; :{                     
                  &quot;Tkn&quot; :{                   
                      &quot;Currency&quot;:&quot;0x...&quot;,     
                      &quot;Value&quot;:10000000       
                  },
                  Tkt:{                    
                      &quot;Category&quot;:&quot;0x...&quot;,      
                      &quot;Value&quot;:&quot;0x...&quot;         
                  }
              },
              Memo:&quot;...&quot;,                  
              Nil:&quot;0x...&quot;                   
          },
          ...
      ]
  }
</code></pre><h2 id="gentx">
  <strong>GenTx</strong>
  <a class="anchor" href="#gentx">#</a>
</h2>
<hr>
<p>To create a transaction, the sender needs to balance Out and In by itself. Note that the more In and Out there are, the 
longer the transaction takes to generate.</p>
<ul>
<li>Request</li>
</ul>
<pre><code>  {
    &quot;id&quot;:1,
    &quot;jsonrpc&quot;:&quot;2.0&quot;,
    &quot;method&quot;:&quot;ssi_genTx&quot;,
    &quot;params&quot;:[{
        Gas: 10000,                      
        GasPrice: 1000000000,           
        From: {                          
            SKr:&quot;0x...&quot;,
            PKr:&quot;0x...&quot;
        },                    
        Ins: [
            {
               SKr: &quot;0x...&quot;,            
               Root: &quot;0x...&quot;          
            },
            ...
        ],
        Outs: [
            {
               PKr: &quot;0x...&quot;,            
               Asset: {...},              
               Memo: &quot;0x.....&quot;          
            },
            ...
        ]
    }]
  }
</code></pre><ul>
<li>Successful Response</li>
</ul>
<pre><code>  {
      &quot;id&quot;:1,
      &quot;jsonrpc&quot;:&quot;2.0&quot;,
      &quot;result&quot;:&quot;0x...&quot;                   //the hash of the transaction
  }
</code></pre><p><strong>Note</strong></p>
<ul>
<li>Zro determines the number of parallel computations based on the performance of the current machine, and the 
transaction generation time is proportional to the number of UTXO references.
<ul>
<li>One solution is to merge the recharge UTXO, and another is to extend the timeout of the interface call.</li>
<li><code>--rpcwritetimeout</code> [SECOND] When you start Zro, with this parameter, you can set the timeout in seconds 
for Zro write-back.</li>
</ul>
</li>
</ul>
<h2 id="committx">
  <strong>CommitTx</strong>
  <a class="anchor" href="#committx">#</a>
</h2>
<hr>
<p>Commit the transaction that has been created.</p>
<ul>
<li>Request</li>
</ul>
<pre><code>  {
    &quot;id&quot;:1,
    &quot;jsonrpc&quot;:&quot;2.0&quot;,
    &quot;method&quot;:&quot;ssi_commitTx&quot;,
    &quot;params&quot;:[
        &quot;0x...&quot;                        //the hash generated by genTx
    ]
  }
</code></pre><ul>
<li>Successful Response</li>
</ul>
<pre><code>  {
      &quot;id&quot;:1,
      &quot;jsonrpc&quot;:&quot;2.0&quot;,
      &quot;result&quot;:null
  }
</code></pre><h2 id="suggested-docking-solution">
  <strong>Suggested docking solution</strong>
  <a class="anchor" href="#suggested-docking-solution">#</a>
</h2>
<hr>
<ol>
<li>Created by users
<ol>
<li>Create a different Kr for each user and store it in the database</li>
</ol>
</li>
<li>Recharge:
<ol>
<li>Keep calling GetBlocksInfo to get the latest block information.</li>
<li>Find out if the <code>PKr</code> in the <code>Out</code> of the block is created for itself, and if it is, call the <code>Detail</code> to extract 
out the clear information and the corresponding invalidation code <code>Nil</code>.</li>
<li>Find out if <code>Nil</code> in the block is unchecked in the <code>Detail</code>, if found, the corresponding <code>UTXO</code> has been used.</li>
</ol>
</li>
<li>Withdraw:
<ol>
<li>Obtain the existing <code>UTXO</code> as <code>In</code>, construct <code>Out</code>, and call <code>GenTx</code> to signature and generate Tx after balancing.</li>
<li>Call <code>CommitTx</code> to commit the <code>Tx</code>.</li>
</ol>
</li>
</ol>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">

  


  

  


  


<div class="book-languages" tabindex="0" aria-haspopup="true">
  <ul>
    <li class="flex align-center">
      <img src="/svg/translate.svg" class="book-icon" alt="Languages" />
      English
    </li> 
  </ul>

  <ul class="book-languages-list">
    
    <li class="active">
      <a href="https://Ethan-91.github.io/" class="flex align-center">
        <img src="/svg/translate.svg" class="book-icon" alt="Languages" />
        English
      </a>
    </li>
    
    <li class="">
      <a href="https://Ethan-91.github.io/zh/docs/course/service-interface/" class="flex align-center">
        <img src="/svg/translate.svg" class="book-icon" alt="Languages" />
        Chinese
      </a>
    </li>
    
  </ul>
</div>






</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#createkr"><strong>CreateKr</strong></a></li>
    <li><a href="#getblocksinfo"><strong>GetBlocksInfo</strong></a></li>
    <li><a href="#detail"><strong>Detail</strong></a></li>
    <li><a href="#gentx"><strong>GenTx</strong></a></li>
    <li><a href="#committx"><strong>CommitTx</strong></a></li>
    <li><a href="#suggested-docking-solution"><strong>Suggested docking solution</strong></a></li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>

</html>












